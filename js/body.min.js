"use strict";

require("core-js/modules/es.string.trim.js");

var _this = void 0;

/*
* Javascript to show and hide cookie banner using localstroage
*/

/**
 * Shows the Cookie banner
 */
const showCookieBanner = function showCookieBanner() {
  const cookieBanner = document.getElementsByClassName('nk-cookie-banner')[0];
  cookieBanner.style.display = 'block';
};
/**
 * Hides the Cookie banner and saves the value to localstorage
 */


const hideCookieBanner = function hideCookieBanner() {
  localStorage.setItem('web_dev_isCookieAccepted', 'yes');
  const cookieBanner = document.getElementsByClassName('nk-cookie-banner')[0];
  cookieBanner.style.display = 'none';
};
/**
 * Checks the localstorage and shows Cookie banner based on it.
 */


const initializeCookieBanner = function initializeCookieBanner() {
  const isCookieAccepted = localStorage.getItem('web_dev_isCookieAccepted');

  if (isCookieAccepted === null) {
    localStorage.clear();
    localStorage.setItem('web_dev_isCookieAccepted', 'no');
    showCookieBanner();
  }

  if (isCookieAccepted === 'no') {
    showCookieBanner();
  }
}; // Assigning values to window object


$(document).ready(initializeCookieBanner()); // window.onload = initializeCookieBanner();

window.nk_hideCookieBanner = hideCookieBanner;
$(document).ready(function () {
  $('#fullScreenButton').click(function () {
    if (screenfull.isEnabled) {
      screenfull.toggle();
      $('#fullscreen').removeAttr('class');
      $('#fullscreen').attr('class', screenfull.isFullscreen ? 'bi bi-fullscreen' : 'bi bi-fullscreen-exit');
    } else {
      alert('Your browser doesn\'t support full screen');
    }

    if (screenfull.isEnabled) {
      screenfull.on('change', function () {
        console.log('Am I fullscreen?', screenfull.isFullscreen ? 'Yes' : 'No');
      });
    }
  });
});

const searchToggle = function searchToggle(obj, evt) {
  const container = $(obj).closest('#search-wrapper');
  const icon = $(obj).closest('#search-icon');

  if (!container.hasClass('active')) {
    container.addClass('active');
    icon.addClass('search-icon');
    evt.preventDefault();
  } else if (container.hasClass('active') && $(obj).closest('#input-holder').length == 0) {
    container.removeClass('active');
    icon.removeClass('search-icon'); // clear input

    container.find('#search-input').val(''); // clear and hide result container when we press close

    container.find('#result-container').fadeOut(100, function () {
      $(_this).empty();
    });
  }
};

const submitFn = function submitFn(obj, evt) {
  value = $(obj).find('#search-input').val().trim().toLowerCase();
  _html = 'Searching for: ';

  if (!value.length) {
    _html = 'Ehem, I can\'t search nothing';
  } else {
    _html += '<b>' + value + '</b>';
  }

  $(obj).find('#result-container').html('<span>' + _html + '</span>');
  $(obj).find('#result-container').fadeIn(100);
  evt.preventDefault();
};